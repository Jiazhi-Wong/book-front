{% extends "layout.html" %}

{% block main %}
<div class="country-index">

    <h1>图书列表</h1>

    <p>
        <a class="btn btn-success" href="/books/create">新建</a></p>

    <div id="w0" class="grid-view">
        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th>ID</th>
                <th>书名</th>
                <th>作者</th>
                <th>描述</th>
                <th class="action-column">&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            {% for book in list %}
            <tr>
                <td>{{book.book_id}}</td>
                <td>{{book.book_name}}</td>
                <td>{{book.book_author}}</td>
                <td>{{book.book_desc}}</td>
                <td>
                    <a href="/books/detail/{{book.book_id}}" title="View">
                        <span class="glyphicon glyphicon-eye-open"></span>
                    </a>
                    <a href="/books/update/{{book.book_id}}" title="Update">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a href="javascript: void(0);" class="del-btn" data-url="/api/books/{{book.book_id}}" data-method="delete" data-confirm="是否确认删除?" title="Delete">
                        <span class="glyphicon glyphicon-trash"></span>
                    </a>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block script %}
<script src="/systemjs/dist/system.min.js"></script>
<script src="/systemjs/dist/extras/transform.min.js"></script>
<script src="/systemjs-transform-babel/dist/babel-transform.js"></script>
<script>
  System.import('/js/index.js').then((res) => {
    console.log(res);
  });
</script>
{% endblock %}
